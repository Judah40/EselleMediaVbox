////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//CREATE POST 

import { FormValues } from "@/app/pages/Dashboard/(component)/Forms/videoForm/form.types";
import { apiClient } from "../config";

import { AxiosProgressEvent } from 'axios';
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//CREATE POST
export const handleCreatePost = async (
  values: FormValues,
  onUploadProgress?: (progressEvent: AxiosProgressEvent) => void
) => {
  const formData = new FormData();
  formData.append('content', values.content);
  formData.append('caption', values.caption);
  formData.append('location', values.location);
  formData.append('thumbnails', values.thumbnail as Blob);
  formData.append('banner', values.banner as Blob);
  formData.append('fullVideo', values.fullVideo as Blob);
  values.tags.forEach(tag => formData.append('tags[]', tag));

  const response = await apiClient.post("/post", formData, {
    headers: {
      'Content-Type': 'multipart/form-data',
    },
    timeout: 0,
    onUploadProgress: onUploadProgress,
  });

  return response;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//UPDATE POST
export const handleUpdatePost = async ()=>{

}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//GET ALL POST
export const handleGetAllPosts = async () => {
    const response = await apiClient.get("/post");
    return response.data;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//GET SINGLE POST
export const handleGetSinglePost = async (id: number) => {
  const response = await apiClient.get(`/post/${id}`);
  return response;
}